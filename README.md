# Number Recognition Camera

Real-time number recognition (1-4) using webcam with HOG features and SVM classifier.

Press **Space** to capture a frame, the detected number is saved to `resultado.txt`. Press **Space** again to overwrite with a new detection. Press **Q** to quit.

## Project Structure

```
cnn/
├── main.py            # Webcam app - captures and predicts on keypress
├── train.py           # Training script - builds the SVM model
├── number_model.pkl   # Trained model (generated by train.py)
├── resultado.txt      # Output file with the last detected number
├── dataset/
│   ├── 1/             # Images of number 1 (.jpeg)
│   ├── 2/             # Images of number 2 (.jpeg)
│   ├── 3/             # Images of number 3 (.jpeg)
│   └── 4/             # Images of number 4 (.jpeg)
└── pyproject.toml
```

## How to Run on Windows

### Prerequisites

- **Python 3.12+** - Download from [python.org](https://www.python.org/downloads/)
  - During installation, check **"Add Python to PATH"**
- **Webcam** connected to your computer

### 1. Clone the repository

```bash
git clone <repository-url>
cd cnn
```

### 2. Install Poetry (package manager)

Open **PowerShell** and run:

```powershell
pip install poetry
```

### 3. Install dependencies

```powershell
poetry install
```

### 4. Prepare the dataset

Place your training images inside the `dataset/` folder, organized by number:

```
dataset/
├── 1/
│   ├── img1.jpeg
│   ├── img2.jpeg
│   └── ...
├── 2/
│   └── ...
├── 3/
│   └── ...
└── 4/
    └── ...
```

Images must be `.jpeg` format.

### 5. Train the model

```powershell
poetry run python train.py
```

This generates `number_model.pkl`.

### 6. Run the application

```powershell
poetry run python main.py
```

### Controls

| Key     | Action                                              |
|---------|-----------------------------------------------------|
| `Space` | Capture frame, predict number, save to resultado.txt |
| `Q`     | Quit the application                                |

## Building an Executable (.exe)

To create a standalone `.exe` for Windows (no Python required to run):

```powershell
poetry run pyinstaller --onefile --add-data "number_model.pkl;." main.py
```

The executable will be in the `dist/` folder.

> **Note:** Make sure to train the model first (`train.py`) before building the executable.
